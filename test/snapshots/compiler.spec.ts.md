# Snapshot report for `test/compiler.spec.ts`

The actual snapshot is saved in `compiler.spec.ts.snap`.

Generated by [AVA](https://avajs.dev).

## Compiler example: compile to Python

> editor/document.py

    `import dataclasses␊
    import typing␊
    import editor.generated␊
    import enum␊
    ␊
    @dataclasses.dataclass␊
    class Document:␊
        parent: typing.Union[editor.generated.Anonymous, editor.generated.Anonymous, editor.generated.Anonymous]␊
        title: str␊
        author: str␊
        body: list[typing.Union[Text, Table]]␊
    ␊
    @dataclasses.dataclass␊
    class Text:␊
        plain: str␊
        annotations: list[Annotation]␊
        rect: typing.Optional[editor.generated.Anonymous]␊
        toString: Callable[[], str]␊
    ␊
    @dataclasses.dataclass␊
    class Annotation:␊
        type: AnnotationType␊
        start: float␊
        end: float␊
        data: object␊
    ␊
    class AnnotationType(enum.Enum):␊
        Bold = 0␊
        Italic = 1␊
        Underline = 2␊
        Strike = 3␊
        Code = 4␊
    ␊
    @dataclasses.dataclass␊
    class Table:␊
        header: list[str]␊
        rows: list[list[str]]␊
        parent: editor.generated.Anonymous␊
        rect: typing.Optional[editor.generated.Anonymous]␊
    #{"version":3,"sources":["/Users/jitl/src/ts-simple-type/test.ts","lib.es5.d.ts"],"names":[],"mappings":";;;;;AAsDA,C,qBAAA;AAAA;4GAAA;cAAA;eAAA;ACmsCA,e,YDxuCA,C,IAAA,E,KAAA,CCwuCA,C;;AD/tCA,C,qBAAA;AAAA;cAAA;AC+tCA,sB,UAAA,CD/tCA;qDAAA;AAIC,2B,GAAA,C;;AAGD,C,qBAAA;AAAA;AAxBA,U,cAwBA;gBAAA;cAAA;;;AAxBA,qB,SAAA;AACC,YADD;AAEC,cAFD;AAGC,iBAHD;AAIC,cAJD;AAKC,Y;;AAKD,C,qBAAA;AAAA;ACsuCA,iB,GAAA,CDtuCA;ACsuCA,oB,GAAA,EDtuCA;AAZC,Y,0BAYD","file":"editor/document.py","sourcesContent":["\\ntype DBTable = \\n\\t| 'block'\\n\\t| 'collection'\\n\\t| 'space'\\n\\ntype RecordPointer<T extends DBTable = DBTable> = T extends 'space' ?\\n\\t{ table: T; id: string } :\\n\\t{ table: T; id: string; spaceId: string }\\n\\nenum AnnotationType {\\n\\tBold,\\n\\tItalic,\\n\\tUnderline,\\n\\tStrike,\\n\\tCode\\n}\\n\\ntype AliasedType = Text | Table\\n\\nexport interface Table {\\n  header: string[]\\n  rows: string[][]\\n\\tparent: RecordPointer<'block'>\\n\\trect?: Rect\\n}\\n\\nexport interface Text {\\n  plain: string\\n  annotations: Annotation[]\\n\\trect?: Rect\\n\\ttoString(): string\\n}\\n\\nexport interface Annotation {\\n  type: AnnotationType\\n  start: number\\n  end: number\\n  data: unknown\\n}\\n\\ntype Position = {\\n\\tx: number,\\n\\ty: number\\n\\tmove(dx: number, dy: number): Position\\n}\\n\\ntype Dimension = {\\n\\twidth: number,\\n\\theight: number\\n\\tresize(width: number, height: number): Dimension\\n}\\n\\ntype Rect = Position & Dimension\\n\\nexport interface Document {\\n\\tparent: RecordPointer\\n  title: string\\n  author: string\\n  body: Array<AliasedType>\\n}\\n\\n",null]}`

> editor/generated.py

    `import dataclasses␊
    ␊
    @dataclasses.dataclass␊
    class Anonymous:␊
        table: Literal["space"]␊
        id: str␊
    ␊
    @dataclasses.dataclass␊
    class Anonymous:␊
        table: Literal["block"]␊
        id: str␊
        spaceId: str␊
    ␊
    @dataclasses.dataclass␊
    class Anonymous:␊
        table: Literal["collection"]␊
        id: str␊
        spaceId: str␊
    ␊
    @dataclasses.dataclass␊
    class Anonymous:␊
        x: float␊
        y: float␊
        move: Callable[[float, float], Position]␊
        width: float␊
        height: float␊
        resize: Callable[[float, float], Dimension]␊
    ␊
    @dataclasses.dataclass␊
    class Position:␊
        x: float␊
        y: float␊
        move: Callable[[float, float], Position]␊
    ␊
    @dataclasses.dataclass␊
    class Dimension:␊
        width: float␊
        height: float␊
        resize: Callable[[float, float], Dimension]␊
    #{"version":3,"sources":["/Users/jitl/src/ts-simple-type/test.ts"],"names":[],"mappings":";;AAMC,C,qBAAA;AAAA;2BAAA;;;AACA,C,qBAAA;AAAA;2BAAA;WAAA;;;AAAA,C,qBAAA;AAAA;gCAAA;WAAA;;;AA6CD,C,qBAAA;AAAA;YAAA;YAAA;AATC,oB,KAAA,E,KAAA,G,QAAA,CASD;gBAAA;iBAAA;AAHC,sB,KAAA,E,KAAA,G,SAAA,C;;AATD,C,qBAAA;AAAA;YAAA;YAAA;AAGC,oB,KAAA,E,KAAA,G,QAAA,C;;AAGD,C,qBAAA;AAAA;gBAAA;iBAAA;AAGC,sB,KAAA,E,KAAA,G,SAAA","file":"editor/generated.py","sourcesContent":["\\ntype DBTable = \\n\\t| 'block'\\n\\t| 'collection'\\n\\t| 'space'\\n\\ntype RecordPointer<T extends DBTable = DBTable> = T extends 'space' ?\\n\\t{ table: T; id: string } :\\n\\t{ table: T; id: string; spaceId: string }\\n\\nenum AnnotationType {\\n\\tBold,\\n\\tItalic,\\n\\tUnderline,\\n\\tStrike,\\n\\tCode\\n}\\n\\ntype AliasedType = Text | Table\\n\\nexport interface Table {\\n  header: string[]\\n  rows: string[][]\\n\\tparent: RecordPointer<'block'>\\n\\trect?: Rect\\n}\\n\\nexport interface Text {\\n  plain: string\\n  annotations: Annotation[]\\n\\trect?: Rect\\n\\ttoString(): string\\n}\\n\\nexport interface Annotation {\\n  type: AnnotationType\\n  start: number\\n  end: number\\n  data: unknown\\n}\\n\\ntype Position = {\\n\\tx: number,\\n\\ty: number\\n\\tmove(dx: number, dy: number): Position\\n}\\n\\ntype Dimension = {\\n\\twidth: number,\\n\\theight: number\\n\\tresize(width: number, height: number): Dimension\\n}\\n\\ntype Rect = Position & Dimension\\n\\nexport interface Document {\\n\\tparent: RecordPointer\\n  title: string\\n  author: string\\n  body: Array<AliasedType>\\n}\\n\\n"]}`

> output count

    2
